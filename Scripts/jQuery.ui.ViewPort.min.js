(function(n){function r(t){var u=t.tagName,r=n.extend({},t);return delete r.tagName,r.cls&&(t["class"]=t.cls,delete t.cls),n(i.format("<{0}>",u),r)}var i,t;n.ui.resizable.prototype.viewport_FixMe=function(){var t=this,i=this.options,r;this._handles=n();for(key in this.handles)this.handles[key].length&&(this._handles=this._handles.add(this.handles[key]));this._handles.show(),this._handles.mouseover(function(){t.resizing||(this.className&&(axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),t.axis=axis&&axis[1]?axis[1]:"se")}),i.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(n(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){i.disabled||t.resizing||(n(this).addClass("ui-resizable-autohide"),t._handles.hide())})),n.contains(this.element,this._handles)?this._mouseInit():(r=this.element,this.element.add(this._handles).wrapAll(n("<div>",{"class":"ui-wrapper"})),this.wrapper=this.element.parent(".ui-wrapper"),this.element=this.wrapper,this._mouseInit(),this.element=r)},i={format:function(){var t=arguments[0],f,r=Array.prototype.splice.call(arguments,1),e,i,u,o;if(typeof r[0]=="object"){for(e in r[0])f=new RegExp("{"+e+"(?:!([^}]+)|:([^}]+))?}","g"),i=r[0][e],typeof i!="undefined"&&(typeof i=="object"&&(i=n.param(i)),t=t.replace(f,"$1"+i+"$2"));t=t.replace(/{[^}]*}/g,"")}else for(u=0,o=r.length;u<o;u++)f=new RegExp("{"+u+"(?:!([^}]+)|:([^}]+))?}","g"),t=t.replace(f,"$1"+r[u]+"$2");return t},firstCapital:function(n){return(n||"").replace(/^(.)/,function(n,t){return t.toUpperCase()})}},typeof n.defaults=="undefined"&&(n.defaults={}),n.defaults.viewport={region:{size:150,collapsable:!0,resizable:!0,layout:"none",hidden:!1,minSize:40,handleSize:10},resizeHandles:{north:"s",south:"n",east:"w",west:"e"},handle:{tagName:"div","class":"ui-viewport-handle ui-widget-overlay ui-resizable-handle ui-resizable-{direction}"},regionCSS:{},regionCls:"ui-widget-content"},t={north:{top:0,left:0,right:0,size:"height",dock:"top",direction:"s"},south:{bottom:0,left:0,right:0,size:"height",dock:"bottom",direction:"n"},east:{right:0,top:0,bottom:0,size:"width",dock:"right",direction:"w"},west:{left:0,top:0,bottom:0,size:"width",dock:"left",direction:"e"},center:{top:0,left:0,right:0,bottom:0}},n.widget("kodingsykosis.viewport",{options:{north:undefined,south:undefined,east:undefined,west:undefined,center:undefined},_create:function(){var t=this.options,i;this.regions={north:this._initRegion(t.north,"north"),south:this._initRegion(t.south,"south"),east:this._initRegion(t.east,"east"),west:this._initRegion(t.west,"west"),center:this._initRegion(t.center,"center")},this.element.addClass("ui-viewport"),this.reset(),i=this,n.each(this.regions,function(n,t){t&&i._initResizable(t)})},reset:function(t){var u=this,r={},i=0;n.each(this.regions,function(n,t){t&&(t.el.addClass("ui-viewport-"+n),t.name=n,t.currentSize=t.size,t.hidden?t.el.hide():(n!=="center"&&(r[t.index]=n),t.el.show()))}),Array.prototype.sort.call(r,function(n,t){return n-t}),this.index={},n.each(r,function(n,t){t!=="center"&&(u.index[i]=t,u.regions[t].index=i++)}),this.index[i]="center",this.regions.center.index=i++,this.index.length=i++,t||this.refresh()},refresh:function(){var t=this;t.offsets={top:0,bottom:0,left:0,right:0},n.each(this.index,function(n,i){n!=="lenth"&&t.refreshRegion(i,!0)})},refreshRegion:function(n,t){var i=this.regions[n];i&&(this._doRegionLayout(i,t),i.layout&&i.el.layout(i.layout))},collapse:function(n){this.toggle(n,!1)},expand:function(n){this.toggle(n,!0)},toggle:function(i,r){var u=this.regions[i],e=t[i],f={},o;(typeof r=="undefined"&&(r=!u.el.is(":visible")),r!==u.el.is(":visible"))&&(r?(f[e.size]=0,u.el.css(f).show()):u.originalSize=u.el[e.size](),f[e.size]=r?u.originalSize||u.size:0,o=this,u.el.animate(f,{step:n.proxy(this._onRegionResizing,this),complete:function(){o._onToggleComplete.call(o,u)}}))},size:function(n,i){var r=this.regions[n],u;return i&&(u=t[r.name],r.currentSize=r.el[u.size](),this.refresh()),r.currentSize},_doRegionLayout:function(i,r){var o=i.el,e=t[i.name],u=n.extend(i.cssLayout,r?e:{},n.defaults.viewport.regionCSS),f;r&&(n.each(this.offsets,function(n,t){typeof u[n]!="undefined"&&(u[n]=Math.max(u[n],t)||0)}),i.cssLayout=n.extend({},u)),u.size&&(u[u.size]=i.currentSize,delete u.size),u.dock&&(this.offsets[u.dock]+=i.currentSize),i.handle!=null&&i.handle.length>0&&(f=n.extend({},u),f[u.dock]=this.offsets[u.dock],f[e.size]=n.defaults.viewport.region.handleSize,i.handle.css(f),this.offsets[u.dock]+=f[e.size]),u.dock&&delete u.dock,o.css(u).addClass(n.defaults.viewport.regionCls).addClass(i.cls)},_initRegion:function(t,i){if(!t)return null;var r;return t===!0&&(t={}),this._isRegionConfig(t)?r=this._buildRegion(t):(r=n(t),t={}),t.el=r,t=n.extend({name:i},n.defaults.viewport.region,t),t.orientation=t.size==="height"?"vertical":"horizontal",t.index||(t.index=r.index()),!t.layout||n.layouts&&n.layouts[t.layout.render]||(t.layout=null),t.name!="center"&&(t.handle==null||t.handle.length==0)&&(t.handle=this._buildRegionHandle(t),t.el.before(t.handle)),t.name=="center"&&(t.handle=null),t.el.data("ViewPort-Region",t.name),t},_initResizable:function(r){var f,h,e;if(r.resizable&&this.index&&r.name!=="center"){var o=t[r.name],s={},u={resize:n.proxy(this._onRegionResizing,this),start:n.proxy(this._onRegionResizeStart,this),stop:n.proxy(this._onRegionResizeStop,this)};for(s[n.defaults.viewport.resizeHandles[r.name]]=r.handle,u.handles=s,r.maxSize&&(u["max"+i.firstCapital(o.size)]=r.maxSize),r.minSize&&(u["min"+i.firstCapital(o.size)]=r.minSize),r.alsoResize=n(),f=r.index+1,h=this.index.length;f<h;f++)e=this.regions[this.index[f]],(r.orientation===e.orientation||e.name==="center")&&(r.alsoResize=r.alsoResize.add(e.el));r.name==="south"?r.el.data("ViewPort-OrgPosition",{top:r.el.css("top")}):r.name==="east"&&r.el.data("ViewPort-OrgPosition",{left:r.el.css("left")}),r.el.resizable(u),r.el.resizable("viewport_FixMe")}},_buildRegion:function(t){var u={display:t.hidden?"none":"block"},i;return(t=n.extend(!0,{cssLayout:u},n.defaults.viewport.region,t),t.el)?n(t.el):(i=r({tagName:"div"}),i.appendTo(this.element),i)},_buildRegionHandle:function(u){var f=n.extend({},n.defaults.viewport.handle),e=t[u.name],o={},s;return f["class"]=i.format(f["class"],e),s=r(f),o[e.size]=n.defaults.viewport.region.handleSize,s.uniqueId().css(o).disableSelection().hide()},_isRegionConfig:function(n){return typeof n=="object"&&typeof n.length!="number"},_onRegionResizing:function(i,r){this._doResizeHack(r);var e=n(r.originalElement||r.elem),u=e.data("ViewPort-Region"),f=t[u],o=r.prop===f.size?r.now:r.size[f.size];this.size(u,o)},_onRegionResizeStart:function(n,t){this._doResizeHack(t)},_onRegionResizeStop:function(n,t){this._doResizeHack(t)},_doResizeHack:function(t){var i=n(t.originalElement||t.elem),r=i.data("ViewPort-Region");(r==="south"||r==="east")&&i.css(i.data("ViewPort-OrgPosition"))},_onToggleComplete:function(n){var r=t[n.name],i=n.el;n.currentSize=i[r.size](),i.resize(),n.currentSize===0&&i.hide()}})})(jQuery);
//@ sourceMappingURL=jQuery.ui.ViewPort.min.js.map